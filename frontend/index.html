<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEPIP - Sistema de Gestión</title>
    <link rel="stylesheet" href="styles/main.css">
    <style>
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid #fff;
        }
        
        .user-name {
            color: white;
            font-weight: 500;
        }
        
        .logout-btn {
            margin-left: 0.5rem;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">CEPIP</h1>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="#dashboard" class="nav-link active">Dashboard</a></li>
                    <li><a href="#empresas" class="nav-link">Empresas</a></li>
                    <li><a href="#personas" class="nav-link">Personas</a></li>
                    <li><a href="#consorcistas" class="nav-link">Consorcistas</a></li>
                    <li><a href="#parcelas" class="nav-link">Parcelas</a></li>
                    <li><a href="#reports" class="nav-link">Reportes</a></li>
                    <li><a href="#settings" class="nav-link">Configuración</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div class="dashboard-cards">
                    <div class="card">
                        <h3>Total Registros</h3>
                        <p class="card-number" id="total-records">-</p>
                    </div>
                    <div class="card">
                        <h3>Última Actualización</h3>
                        <p class="card-text" id="last-update">-</p>
                    </div>
                </div>
            </section>

            <!-- Empresas Section -->
            <section id="empresas" class="section">
                <h2>Gestión de Empresas</h2>
                
                <!-- Statistics Cards -->
                <div class="dashboard-cards">
                    <div class="card">
                        <h3>Total Empresas</h3>
                        <p class="card-number" id="total-empresas">-</p>
                    </div>
                    <div class="card">
                        <h3>Socios CEPIP</h3>
                        <p class="card-number" id="empresas-socios">-</p>
                    </div>
                    <div class="card">
                        <h3>Consorcistas</h3>
                        <p class="card-number" id="empresas-consorcistas">-</p>
                    </div>
                    <div class="card">
                        <h3>Sectores</h3>
                        <p class="card-number" id="total-sectores">-</p>
                    </div>
                </div>

                <!-- Filters and Controls -->
                <div class="empresas-controls">
                    <div class="filters">
                        <input type="text" id="search-empresa" class="form-control" placeholder="Buscar por razón social o CUIT...">
                        <select id="filter-socio" class="form-control">
                            <option value="">Todos</option>
                            <option value="true">Solo socios CEPIP</option>
                            <option value="false">No socios</option>
                        </select>
                        <select id="filter-consorcista" class="form-control">
                            <option value="">Tipo de empresa</option>
                            <option value="true">Consorcistas</option>
                            <option value="false">No consorcistas</option>
                        </select>
                        <button class="btn btn-secondary" id="clear-empresas-filters">Limpiar filtros</button>
                    </div>
                    <div class="actions">
                        <button class="btn btn-primary" id="add-empresa">Agregar Empresa</button>
                        <button class="btn btn-secondary" id="export-empresas">Exportar</button>
                        <button class="btn btn-secondary" id="refresh-empresas">Actualizar</button>
                    </div>
                </div>

                <!-- Empresas Table -->
                <div class="table-container">
                    <table class="data-table" id="empresas-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Razón Social</th>
                                <th>CUIT</th>
                                <th>N° Socio</th>
                                <th>Sector</th>
                                <th>Rubro</th>
                                <th>Es Socio</th>
                                <th>Consorcista</th>
                                <th>Web</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="empresas-table-body">
                            <!-- Empresas data will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div id="empresas-pagination" class="pagination-container"></div>
            </section>

            <!-- Personas Section -->
            <section id="personas" class="section">
                <h2>Gestión de Personas</h2>
                
                <!-- Statistics Cards -->
                <div class="dashboard-cards">
                    <div class="card">
                        <h3>Total Personas</h3>
                        <p class="card-number" id="total-personas">-</p>
                    </div>
                    <div class="card">
                        <h3>Con Email</h3>
                        <p class="card-number" id="personas-con-email">-</p>
                    </div>
                    <div class="card">
                        <h3>Con Teléfono</h3>
                        <p class="card-number" id="personas-con-telefono">-</p>
                    </div>
                    <div class="card">
                        <h3>Relaciones</h3>
                        <p class="card-number" id="total-relaciones">-</p>
                    </div>
                </div>

                <!-- Filters and Controls -->
                <div class="personas-controls">
                    <div class="filters">
                        <input type="text" id="search-persona" class="form-control" placeholder="Buscar por nombre, email o teléfono...">
                        <select id="filter-con-email" class="form-control">
                            <option value="">Filtrar por email</option>
                            <option value="true">Con email</option>
                            <option value="false">Sin email</option>
                        </select>
                        <button class="btn btn-secondary" id="clear-personas-filters">Limpiar filtros</button>
                    </div>
                    <div class="actions">
                        <button class="btn btn-primary" id="add-persona">Agregar Persona</button>
                        <button class="btn btn-secondary" id="export-personas">Exportar</button>
                        <button class="btn btn-secondary" id="refresh-personas">Actualizar</button>
                    </div>
                </div>

                <!-- Personas Table -->
                <div class="table-container">
                    <table class="data-table" id="personas-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre y Apellido</th>
                                <th>Email</th>
                                <th>Teléfono</th>
                                <th>Celular</th>
                                <th>Empresas</th>
                                <th>Cargos</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="personas-table-body">
                            <!-- Personas data will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div id="personas-pagination" class="pagination-container"></div>
            </section>

            <!-- Consorcistas Section -->
            <section id="consorcistas" class="section">
                <h2>Gestión de Consorcistas</h2>
                
                <!-- Statistics Cards -->
                <div class="dashboard-cards">
                    <div class="card">
                        <h3>Total Consorcistas</h3>
                        <p class="card-number" id="total-consorcistas">-</p>
                    </div>
                    <div class="card">
                        <h3>Parcelas Asociadas</h3>
                        <p class="card-number" id="parcelas-consorcistas">-</p>
                    </div>
                    <div class="card">
                        <h3>Empresas Vinculadas</h3>
                        <p class="card-number" id="empresas-consorcistas">-</p>
                    </div>
                    <div class="card">
                        <h3>Tipos</h3>
                        <p class="card-number" id="tipos-consorcistas">-</p>
                    </div>
                </div>

                <!-- Filters and Controls -->
                <div class="consorcistas-controls">
                    <div class="filters">
                        <input type="text" id="search-consorcista" class="form-control" placeholder="Buscar por nombre o número...">
                        <button class="btn btn-secondary" id="clear-consorcistas-filters">Limpiar filtros</button>
                    </div>
                    <div class="actions">
                        <button class="btn btn-primary" id="add-consorcista">Agregar Consorcista</button>
                        <button class="btn btn-secondary" id="export-consorcistas">Exportar</button>
                        <button class="btn btn-secondary" id="refresh-consorcistas">Actualizar</button>
                    </div>
                </div>

                <!-- Consorcistas Table -->
                <div class="table-container">
                    <table class="data-table" id="consorcistas-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>N° Consorcista</th>
                                <th>Tipo</th>
                                <th>Parcelas</th>
                                <th>Empresas</th>
                                <th>Fecha Carga</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="consorcistas-table-body">
                            <!-- Consorcistas data will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div id="consorcistas-pagination" class="pagination-container"></div>
            </section>

            <!-- Parcelas Section -->
            <section id="parcelas" class="section">
                <h2>Gestión de Parcelas</h2>
                
                <!-- Statistics Cards -->
                <div class="dashboard-cards">
                    <div class="card">
                        <h3>Total Parcelas</h3>
                        <p class="card-number" id="total-parcelas">-</p>
                    </div>
                    <div class="card">
                        <h3>Con Planta</h3>
                        <p class="card-number" id="parcelas-con-planta">-</p>
                    </div>
                    <div class="card">
                        <h3>Alquiladas</h3>
                        <p class="card-number" id="parcelas-alquiladas">-</p>
                    </div>
                    <div class="card">
                        <h3>Superficie Total</h3>
                        <p class="card-number" id="superficie-total">- ha</p>
                    </div>
                </div>

                <!-- Filters and Controls -->
                <div class="parcelas-controls">
                    <div class="filters">
                        <input type="text" id="search-parcela" class="form-control" placeholder="Buscar por parcela o calle...">
                        <select id="filter-planta" class="form-control">
                            <option value="">Todas las parcelas</option>
                            <option value="true">Con planta</option>
                            <option value="false">Sin planta</option>
                        </select>
                        <select id="filter-alquilada" class="form-control">
                            <option value="">Estado de alquiler</option>
                            <option value="true">Alquiladas</option>
                            <option value="false">No alquiladas</option>
                        </select>
                        <button class="btn btn-secondary" id="clear-filters">Limpiar filtros</button>
                    </div>
                    <div class="actions">
                        <button class="btn btn-primary" id="add-parcela">Agregar Parcela</button>
                        <button class="btn btn-secondary" id="export-parcelas">Exportar</button>
                        <button class="btn btn-secondary" id="refresh-parcelas">Actualizar</button>
                    </div>
                </div>

                <!-- Parcelas Table -->
                <div class="table-container">
                    <table class="data-table" id="parcelas-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Parcela</th>
                                <th>Calle</th>
                                <th>Número</th>
                                <th>Superficie (ha)</th>
                                <th>Tiene Planta</th>
                                <th>Alquilada</th>
                                <th>Consorcista</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="parcelas-table-body">
                            <!-- Parcelas data will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div id="parcelas-pagination" class="pagination-container">
                    <!-- Pagination will be generated here -->
                </div>
            </section>

            <!-- Data Section -->
            <section id="data" class="section">
                <h2>Gestión de Datos</h2>
                <div class="data-controls">
                    <button class="btn btn-primary" id="add-record">Agregar Registro</button>
                    <button class="btn btn-secondary" id="refresh-data">Actualizar</button>
                </div>
                <div class="table-container">
                    <table class="data-table" id="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="table-body">
                            <!-- Data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="section">
                <h2>Reportes</h2>
                <div class="report-controls">
                    <select id="report-type" class="form-control">
                        <option value="">Seleccionar tipo de reporte</option>
                        <option value="summary">Resumen General</option>
                        <option value="detailed">Reporte Detallado</option>
                    </select>
                    <button class="btn btn-primary" id="generate-report">Generar Reporte</button>
                </div>
                <div id="report-output" class="report-output">
                    <!-- Reports will be displayed here -->
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="section">
                <h2>Configuración</h2>
                <div class="settings-form">
                    <h3>Configuración General</h3>
                    <form id="settings-form">
                        <div class="form-group">
                            <label for="app-name">Nombre de la aplicación</label>
                            <input type="text" id="app-name" value="CEPIP" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="records-per-page">Registros por página</label>
                            <input type="number" id="records-per-page" value="20" class="form-control">
                        </div>
                        <button type="submit" class="btn btn-primary">Guardar Configuración</button>
                    </form>
                </div>
            </section>
        </div>
    </main>

    <!-- Modal for adding/editing records -->
    <div id="record-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Agregar Registro</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="record-form">
                    <!-- Form fields will be dynamically generated -->
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="modal-cancel">Cancelar</button>
                <button type="submit" form="record-form" class="btn btn-primary" id="modal-save">Guardar</button>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/empresas.js"></script>
    <script src="js/personas.js"></script>
    <script src="js/consorcistas.js"></script>
    <script src="js/parcelas.js"></script>
    <script src="js/app.js"></script>
</body>
</html>